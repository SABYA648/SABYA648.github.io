<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoodBite - AI Food Recommendations Based On Your Vibe</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-YBR866PTCR"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-YBR866PTCR');
    </script>

    <style>
        /* --- Core Variables (Repill Inspired) --- */
        :root {
            --bg-color: #111319;
            --bg-color-light: #1a1c23;
            --text-color: #adb5bd;
            --text-color-strong: #e9ecef;
            --primary-accent: #8a3ffc;
            --secondary-accent: #33b1ff;
            --border-color: rgba(255, 255, 255, 0.1);
            --border-radius: 10px;
            --transition-speed: 0.3s;
            --font-main: 'Inter', sans-serif;
            --container-width: 1100px;
        }

        /* --- Basic Reset & Base Styles --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            font-size: 16px; /* Base font size */
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: var(--font-main);
            line-height: 1.7;
            overflow-x: hidden;
             /* Subtle gradient or pattern */
             background-image: radial-gradient(circle at top left, rgba(138, 63, 252, 0.08), transparent 40%),
                              radial-gradient(circle at bottom right, rgba(51, 177, 255, 0.06), transparent 50%);
        }

        /* --- Container --- */
        .container {
            max-width: var(--container-width);
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- Sections --- */
        section {
            padding: 80px 0;
            position: relative;
            overflow: hidden; /* Contain potential overflows from animations/children */
        }
        /* Adjusted nth-child logic due to section reordering */
        #loom-demo, #demo, #cta, #footer { /* Sections with darker default background */
             background-color: var(--bg-color);
        }
        #how-it-works, #features { /* Sections with lighter alternating background */
             background-color: var(--bg-color-light);
        }


        /* --- Typography --- */
        h1, h2, h3, h4 {
            color: var(--text-color-strong);
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 1rem;
        }
        h1 { font-size: 3rem; letter-spacing: -0.02em;}
        h2 { font-size: 2.25rem; text-align: center; margin-bottom: 3rem;}
        h3 { font-size: 1.25rem; font-weight: 500; }
        p { margin-bottom: 1.5rem; max-width: 65ch; }
        a { color: var(--secondary-accent); text-decoration: none; transition: color var(--transition-speed) ease;}
        a:hover { color: var(--primary-accent); }

        /* --- Buttons --- */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5em;
            padding: 14px 32px;
            background: linear-gradient(90deg, var(--primary-accent), var(--secondary-accent));
            color: #fff;
            border: none;
            border-radius: var(--border-radius);
            font-size: 1rem;
            font-weight: 500;
            text-align: center;
            cursor: pointer;
            transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        .btn .emoji-pointer { display: inline-block; }
        .btn:hover, .btn:focus {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(138, 63, 252, 0.4);
        }

        /* --- Hero Section --- */
        #hero {
            min-height: 90vh; /* Adjusted slightly if needed */
            display: flex;
            align-items: center;
            text-align: center;
            padding-top: 120px;
            padding-bottom: 100px; /* Keep space at bottom */
            background: none;
            position: relative; /* Needed for potential absolute positioning inside */
        }

        #hero .container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        #hero h1 { margin-bottom: 1.5rem; max-width: 800px; }
        #hero .subtitle { font-size: 1.2rem; color: var(--text-color); margin-bottom: 2.5rem; max-width: 600px; opacity: 0.9; }
        .hero-actions { display: flex; gap: 1rem; align-items: center; margin-bottom: 3rem; }

        .mic-button {
             width: 70px; height: 70px; background: var(--primary-accent); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 2rem; border: none; color: #fff; cursor: pointer; transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease; box-shadow: 0 0 0 0 rgba(138, 63, 252, 0.7); animation: pulse 2.5s infinite ease-out;
        }
         .mic-button:hover { transform: scale(1.1); box-shadow: 0 0 15px 5px rgba(138, 63, 252, 0.5); }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(138, 63, 252, 0.5); }
            70% { box-shadow: 0 0 0 12px rgba(138, 63, 252, 0); }
            100% { box-shadow: 0 0 0 0 rgba(138, 63, 252, 0); }
        }

        /* Results Area (Appears Below Hero/Fold) */
        #results-area {
             margin-top: 3rem; padding: 2rem; background-color: rgba(0, 0, 0, 0.2); border: 1px solid var(--border-color); border-radius: var(--border-radius); text-align: left; width: 100%; max-width: 700px; min-height: 100px; opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out; display: none;
        }
        #results-area.visible { opacity: 1; transform: translateY(0); display: block; }
        #results-area p.transcript { font-size: 1.1rem; margin-bottom: 1.5rem; color: var(--text-color-strong); font-style: italic; border-left: 3px solid var(--primary-accent); padding-left: 1rem; }
        #results-area .results-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 1rem; }
        .result-card { background-color: var(--bg-color-light); border-radius: var(--border-radius); overflow: hidden; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); transition: transform var(--transition-speed) ease; border: 1px solid var(--border-color); }
        .result-card:hover { transform: translateY(-5px); }
        .result-card img { display: block; width: 100%; height: 150px; object-fit: cover; border-bottom: 1px solid var(--border-color); background-color: var(--bg-color); }
         .result-card .card-content { padding: 1rem; }
         .result-card h4 { font-size: 1rem; color: var(--text-color-strong); margin-bottom: 0.5rem; }
         .result-card p { font-size: 0.85rem; margin-bottom: 0; line-height: 1.4; }


        /* --- Loom Video Demo Section (Now Earlier) --- */
        #loom-demo { /* Style remains the same, just position changed */
            text-align: center;
        }
        #loom-demo h2 { margin-bottom: 3rem; }
        .loom-embed-container { max-width: 960px; margin: 0 auto; opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
         .loom-embed-container.active { opacity: 1; transform: translateY(0); }
        .loom-responsive-wrapper { position: relative; padding-bottom: 62.5%; height: 0; overflow: hidden; border-radius: var(--border-radius); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); border: 1px solid var(--border-color); }
        .loom-responsive-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0; }


        /* --- How It Works Section --- */
        #how-it-works { /* Style remains the same */ }
        .steps-container { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; margin-top: 4rem; text-align: left; }
        .step { background-color: var(--bg-color-light); padding: 2rem; border-radius: var(--border-radius); border: 1px solid var(--border-color); opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
         .step.active { opacity: 1; transform: translateY(0); }
        .step-icon { font-size: 2rem; margin-bottom: 1rem; display: inline-block; color: var(--primary-accent); background: rgba(138, 63, 252, 0.1); padding: 0.5rem; border-radius: 6px; line-height: 1; }
        .step h3 { color: var(--text-color-strong); margin-bottom: 0.5rem; }
        .step p { font-size: 0.95rem; margin-bottom: 0; }

        /* --- Demo Section (App UI Showcase) --- */
         #demo { /* Style remains the same */ }
         #demo h2 { margin-bottom: 4rem; }
         .demo-cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 2rem; align-items: start; }
         .demo-card { background-color: var(--bg-color-light); border-radius: var(--border-radius); overflow: hidden; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3); border: 1px solid var(--border-color); transition: transform var(--transition-speed) ease, box-shadow var(--transition-speed) ease, opacity 0.6s ease-out, transform 0.6s ease-out; opacity: 0; transform: translateY(30px) scale(0.98); }
         .demo-card.active { opacity: 1; transform: translateY(0) scale(1); }
         .demo-card img { display: block; width: 100%; height: auto; aspect-ratio: 16 / 10; object-fit: cover; border-bottom: 1px solid var(--border-color); background-color: var(--bg-color); }
         .demo-card .card-caption { padding: 1rem 1.5rem; font-size: 0.9rem; text-align: center; color: var(--text-color); }
         .demo-card:hover { transform: scale(1.03) translateY(-5px); box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4); }

        /* --- Features Grid Section --- */
         #features { /* Style remains the same */ }
         #features h2 { margin-bottom: 4rem; }
         .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 3rem 2rem; text-align: left; }
         .feature-item { opacity: 0; transform: translateY(20px); transition: opacity 0.5s ease-out, transform 0.5s ease-out; position: relative; padding-left: 3.5rem; }
          .feature-item.active { opacity: 1; transform: translateY(0); }
         .feature-icon { font-size: 1.8rem; position: absolute; left: 0; top: 0; color: var(--secondary-accent); background: rgba(51, 177, 255, 0.1); width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: 8px; }
         .feature-item h3 { font-size: 1.1rem; margin-bottom: 0.5rem; color: var(--text-color-strong); }
          .feature-item p { font-size: 0.95rem; margin-bottom: 0; line-height: 1.6; color: var(--text-color); }

        /* --- CTA Section --- */
         #cta { /* Style remains the same */ text-align: center; padding: 80px 20px; border-radius: 0; margin: 0; }
         #cta h2 { font-size: 2rem; margin-bottom: 1.5rem; color: var(--text-color-strong); }
          #cta p { margin: 1.5rem auto 0 auto; font-size: 0.9rem; opacity: 0.8; max-width: 500px; }
          #cta .btn { margin-top: 1rem; }

        /* --- Footer Section --- */
         #footer { /* Style remains the same */ text-align: center; padding: 50px 20px; border-top: 1px solid var(--border-color); margin-top: 0; }
         .footer-text { margin-bottom: 1rem; font-size: 0.9rem; }
         .social-links a { font-size: 1.1rem; color: var(--text-color); text-decoration: none; margin: 0 1rem; transition: color var(--transition-speed) ease; opacity: 0.8; }
          .social-links a:hover { color: var(--text-color-strong); opacity: 1; }
          .social-links span { margin-right: 0.3rem; font-size: 1.3rem; vertical-align: middle; }

        /* --- Typewriter Cursor --- */
        .typewriter-text::after { content: '|'; animation: blink 1s step-end infinite; margin-left: 2px; opacity: 1; color: var(--text-color-strong); }
        @keyframes blink { from, to { opacity: 1; } 50% { opacity: 0; } }

        /* --- NEW: Scroll Down Indicator --- */
        .scroll-down-indicator {
            position: fixed;
            bottom: 25px; /* Slightly higher */
            left: 50%;
            transform: translateX(-50%) translateY(20px); /* Start lower for fade-in */
            z-index: 1000; /* High z-index */
            background-color: rgba(26, 28, 35, 0.7); /* Slightly transparent dark bg */
            color: var(--text-color-strong);
            padding: 8px 15px;
            border-radius: 20px; /* Pill shape */
            border: 1px solid var(--border-color);
            font-size: 0.8rem; /* Smaller text */
            font-weight: 500;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            opacity: 0; /* Start hidden */
            transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
            pointer-events: none; /* Initially not clickable */
            backdrop-filter: blur(6px); /* Frosted glass effect */
            -webkit-backdrop-filter: blur(6px);
        }

        .scroll-down-indicator.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0); /* Move to final position */
            pointer-events: auto; /* Make clickable */
            animation: bounce 2.5s infinite ease-in-out 0.5s; /* Start bounce after fade-in */
        }

        .scroll-down-indicator.hidden {
            opacity: 0;
            transform: translateX(-50%) translateY(20px); /* Move down on hide */
            pointer-events: none;
            animation-play-state: paused; /* Stop animation when hidden */
        }

        .scroll-down-indicator a { /* Style the link inside */
            color: inherit;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 6px; /* Same gap as parent */
        }

        .scroll-down-indicator .arrow-down {
            width: 1em;
            height: 1em;
            fill: currentColor;
            display: inline-block; /* Ensure it aligns well */
        }

        /* Simple bounce animation */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateX(-50%) translateY(0);
            }
            40% {
                 transform: translateX(-50%) translateY(-6px);
            }
            60% {
                 transform: translateX(-50%) translateY(-3px);
            }
        }


        /* --- Media Queries for Responsiveness --- */
        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            h2 { font-size: 1.8rem; margin-bottom: 2rem;}
            section { padding: 60px 0; }
            #hero { padding-top: 100px; padding-bottom: 80px; min-height: auto; } /* Adjust hero padding */
            .hero-actions { flex-direction: column; }
            .features-grid { grid-template-columns: 1fr; gap: 2rem; }
            .feature-item { padding-left: 0; text-align: center; }
            .feature-icon { position: static; margin: 0 auto 1rem auto; display: flex; }
            .steps-container { grid-template-columns: 1fr; }
            .demo-cards { grid-template-columns: 1fr; }
            #results-area .results-grid { grid-template-columns: 1fr; }
            .loom-embed-container { padding: 0 1rem; }
             /* Adjust indicator position slightly on mobile */
            .scroll-down-indicator { bottom: 15px; padding: 6px 12px; font-size: 0.75rem; }
        }

         @media (max-width: 480px) {
              html { font-size: 15px; }
              h1 { font-size: 2rem; }
              .container { padding: 0 15px; }
               .btn { padding: 12px 24px; font-size: 0.95rem; }
               .mic-button { width: 60px; height: 60px; font-size: 1.8rem; }
               section { padding: 50px 0; }
               #hero { padding-top: 80px; padding-bottom: 50px;}
               .loom-embed-container { padding: 0; }
         }

    </style>
</head>
<body>

    <header id="hero">
        <div class="container">
            <h1>🍽️ Find Food That Matches Your Mood</h1>
            <p class="subtitle">Tell MoodBite how you feel or what you crave. Our AI finds the perfect dish recommendations just for you.</p>

            <div class="hero-actions">
                 <a href="https://moodbite.sabyasachimishra.dev/" target="_blank" rel="noopener noreferrer" class="btn" id="heroCtaButton">
                    <span class="emoji-pointer" role="img" aria-hidden="true">👉</span> Launch MoodBite App
                 </a>
            </div>

            <button class="mic-button" id="micButton" aria-label="Start voice input">
                🎤
            </button>
            <p style="margin-top: 0.5rem; font-size: 0.9rem;">(Tap to simulate voice input on *this* page)</p>

            <div id="results-area" aria-live="polite">
                </div>

        </div>
         </header>

    <div class="scroll-down-indicator" id="scrollIndicator">
         <a href="#loom-demo" aria-label="Scroll down to video demo">
             <span>Scroll for Video Demo</span>
             <svg class="arrow-down" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" aria-hidden="true">
               <path fill-rule="evenodd" d="M7.21 11.77a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L8 12.81l-2.72 2.72a.75.75 0 0 1-1.06-1.06l3.5-3.5Z" clip-rule="evenodd" />
               <path fill-rule="evenodd" d="M7.21 7.77a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 1 1-1.06 1.06L8 8.81l-2.72 2.72a.75.75 0 0 1-1.06-1.06l3.5-3.5Z" clip-rule="evenodd" />
               <path fill-rule="evenodd" d="M7.21 3.77a.75.75 0 0 1 1.06 0l3.5 3.5a.75.75 0 0 1-1.06 1.06L8 4.81 5.28 7.53a.75.75 0 0 1-1.06-1.06l3.5-3.5Z" clip-rule="evenodd" />
             </svg>
         </a>
    </div>


    <section id="loom-demo">
        <div class="container">
            <h2 class="reveal">🔍 See It in Action (Video Demo)</h2>
            <div class="loom-embed-container reveal">
                <div class="loom-responsive-wrapper">
                     <iframe
                         src="https://www.loom.com/embed/24f21454ed83463db517da0fc7045a2f?sid=12d3a491-5396-45d9-a010-57bfa56c2df3"
                         frameborder="0"
                         webkitallowfullscreen
                         mozallowfullscreen
                         allowfullscreen>
                     </iframe>
                </div>
            </div>
             <p style="margin-top: 1.5rem; font-size: 0.9rem; opacity: 0.8;" class="reveal">(Watch this video to see how the actual MoodBite app works!)</p>
        </div>
    </section>

    <section id="how-it-works">
        <div class="container">
            <h2>How It Works</h2>
            <div class="steps-container">
                <div class="step reveal">
                    <span class="step-icon">🎤</span>
                    <h3>1. Speak Your Mind</h3>
                    <p>Tap the mic and tell us your craving, feeling, or desired cuisine (e.g., "comforting soup," "feeling adventurous," "spicy Thai").</p>
                </div>
                <div class="step reveal">
                    <span class="step-icon">🤖</span>
                    <h3>2. AI Analysis</h3>
                    <p>MoodBite's AI analyzes your voice input and sentiment to understand the underlying mood and preferences.</p>
                </div>
                <div class="step reveal">
                    <span class="step-icon">🍛</span>
                    <h3>3. Get Recommendations</h3>
                    <p>Receive personalized food suggestions tailored to your current vibe, complete with visuals and details.</p>
                </div>
            </div>
        </div>
    </section>

    <section id="demo">
        <div class="container">
              <h2>App Preview</h2>
              <div class="demo-cards">
                    <div class="demo-card reveal">
                          <img src="./foodimg1.jpg" alt="MoodBite app showing mood selection or voice input prompt.">
                          <div class="card-caption">Input your mood or craving via voice.</div>
                    </div>
                    <div class="demo-card reveal">
                          <img src="./foodimg2.jpg" alt="MoodBite app displaying visual food recommendations cards.">
                          <div class="card-caption">Get tailored recommendations based on your input.</div>
                    </div>
                    <div class="demo-card reveal">
                          <img src="./foodimg3.jpg" alt="MoodBite app showing details of a recommended dish like ingredients and rationale.">
                         <div class="card-caption">Explore details, ingredients, and why it fits your mood.</div>
                    </div>
              </div>
        </div>
    </section>

    <section id="features">
        <div class="container">
              <h2>Features You'll Love</h2>
              <div class="features-grid">
                    <div class="feature-item reveal">
                         <span class="feature-icon">🎙️</span>
                         <h3>Voice-First Interface</h3>
                         <p>Simply speak your cravings naturally. No complex menus to navigate.</p>
                    </div>
                    <div class="feature-item reveal">
                         <span class="feature-icon">🧠</span>
                         <h3>Emotion-Aware AI</h3>
                         <p>Goes beyond keywords to understand the sentiment behind your request.</p>
                    </div>
                    <div class="feature-item reveal">
                         <span class="feature-icon">🎯</span>
                         <h3>Personalized Matches</h3>
                         <p>Dishes selected specifically to align with your current mood and taste profile.</p>
                    </div>
                    <div class="feature-item reveal">
                         <span class="feature-icon">✨</span>
                         <h3>Intuitive Design</h3>
                         <p>Clean, simple interface focused on getting you relevant results quickly.</p>
                    </div>
                    <div class="feature-item reveal">
                         <span class="feature-icon">🛒</span>
                         <h3>Seamless Integration</h3>
                         <p>(Future) Connect with delivery services or recipe platforms easily.</p>
                    </div>
                    <div class="feature-item reveal">
                         <span class="feature-icon">🌐</span>
                         <h3>Multilingual Ready</h3>
                         <p>Built with the potential to understand and respond in multiple languages.</p>
                    </div>
              </div>
        </div>
    </section>

    <section id="cta">
        <div class="container">
            <h2>Ready to Taste the Future of Food Discovery?</h2>
             <p>Experience how MoodBite connects your feelings with your next favorite meal. Click below to go to the app!</p>
            <a href="https://moodbite.sabyasachimishra.dev/" target="_blank" rel="noopener noreferrer" class="btn" id="mainCtaButton">
                <span class="emoji-pointer" role="img" aria-hidden="true">👉</span> Try the Live Demo Now
            </a>
        </div>
    </section>

    <footer id="footer">
        <div class="container">
              <p class="footer-text">Developed by Sabyasachi Mishra</p>
              <div class="social-links">
                    <a href="https://linkedin.com/in/sabyasachi-mishra" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn Profile" id="linkedinLink"><span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-linkedin" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 0.3rem;"><path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854V1.146zm4.943 12.248V6.169H2.542v7.225h2.401zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248-.822 0-1.359.54-1.359 1.248 0 .694.521 1.248 1.327 1.248h.016zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016a5.54 5.54 0 0 1 .016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225h2.4z"/></svg></span> LinkedIn</a>
                    <a href="https://github.com/iamsabyasachi" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile" id="githubLink"><span><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github" viewBox="0 0 16 16" style="vertical-align: middle; margin-right: 0.3rem;"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg></span> GitHub</a>
              </div>
        </div>
    </footer>

    <script>
        // Helper function to send GA events
        function trackEvent(category, label, action = 'click') {
             if (typeof gtag === 'function') {
                 gtag('event', action, {
                     'event_category': category,
                     'event_label': label
                 });
             } else {
                 console.warn('gtag function not found. Analytics disabled.');
             }
        }

        document.addEventListener('DOMContentLoaded', () => {
            // --- Elements ---
            const micButton = document.getElementById('micButton');
            const resultsArea = document.getElementById('results-area');
            const heroCtaButton = document.getElementById('heroCtaButton');
            const mainCtaButton = document.getElementById('mainCtaButton');
            const linkedinLink = document.getElementById('linkedinLink');
            const githubLink = document.getElementById('githubLink');
            const scrollIndicator = document.getElementById('scrollIndicator'); // NEW: Scroll indicator element
            const loomSection = document.getElementById('loom-demo'); // NEW: Target for scroll hiding logic

            // --- Typewriter Function ---
            function typewriter(element, text, speed = 40) {
                element.innerHTML = ''; element.classList.add('typewriter-text'); let i = 0; function type() { if (i < text.length) { element.innerHTML += text.charAt(i); i++; setTimeout(type, speed); } else { element.classList.remove('typewriter-text'); } } type();
            }

            // --- Simulate Voice Input & Display Results ---
            micButton.addEventListener('click', () => {
                trackEvent('engagement', 'mic_button_click');
                const userInput = prompt("What are you craving or how are you feeling?\n(e.g., 'spicy noodles', 'something comforting', 'feeling happy')\n\n(This is a simulation on the landing page)");
                if (userInput && userInput.trim() !== '') {
                    trackEvent('engagement', 'mic_input_submitted', 'submit');
                    resultsArea.innerHTML = ''; resultsArea.classList.remove('visible'); void resultsArea.offsetWidth; resultsArea.classList.add('visible');
                    const transcriptElement = document.createElement('p'); transcriptElement.className = 'transcript'; resultsArea.appendChild(transcriptElement); const transcriptText = `You said: "${userInput}"`; typewriter(transcriptElement, transcriptText, 30);
                    const searchingElement = document.createElement('p'); searchingElement.textContent = 'Simulating AI match search...'; searchingElement.style.marginTop = '1rem'; searchingElement.style.fontStyle = 'italic'; searchingElement.style.color = 'var(--text-color)'; resultsArea.appendChild(searchingElement);
                    setTimeout(() => {
                        if (resultsArea.contains(searchingElement)) { resultsArea.removeChild(searchingElement); }
                        const resultsGrid = document.createElement('div'); resultsGrid.className = 'results-grid';
                        const resultImages = ['./foodimg1.jpg', './foodimg2.jpg', './foodimg3.jpg']; const resultTitles = ['Spicy Comfort Noodles', 'Happy Vibe Pizza', 'Relaxing Veggie Bowl']; const resultDescs = ['Simulated result: Perfect for a cold day.', 'Simulated result: Cheese and joy guaranteed.', 'Simulated result: Healthy and calming.'];
                        resultImages.forEach((imgName, index) => {
                            const card = document.createElement('div'); card.className = 'result-card'; const img = document.createElement('img'); img.src = imgName; img.alt = `Simulated suggestion: ${resultTitles[index % resultTitles.length]}`;
                            const content = document.createElement('div'); content.className = 'card-content'; const title = document.createElement('h4'); title.textContent = resultTitles[index % resultTitles.length]; const desc = document.createElement('p'); desc.textContent = resultDescs[index % resultDescs.length];
                            img.onerror = function() { this.alt = `Image not found: ${resultTitles[index % resultTitles.length]}`; this.style.display = 'none'; const errorText = document.createElement('p'); errorText.textContent = '[Image unavailable]'; errorText.style.textAlign = 'center'; errorText.style.padding = '20px 0'; card.insertBefore(errorText, content); };
                            content.appendChild(title); content.appendChild(desc); card.appendChild(img); card.appendChild(content); resultsGrid.appendChild(card);
                        });
                        const exampleNote = document.createElement('p'); exampleNote.textContent = 'Note: These are example results shown on the landing page. Try the actual app for real recommendations!'; exampleNote.style.marginTop = '1.5rem'; exampleNote.style.fontSize = '0.9rem'; exampleNote.style.textAlign = 'center'; exampleNote.style.color = 'var(--secondary-accent)';
                        resultsArea.appendChild(resultsGrid); resultsArea.appendChild(exampleNote);
                        resultsArea.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, transcriptText.length * 30 + 1500);
                } else if (userInput !== null) { trackEvent('engagement', 'mic_input_empty', 'submit'); alert("Please tell me what you're craving or feeling!"); resultsArea.classList.remove('visible'); } else { trackEvent('engagement', 'mic_input_cancelled', 'cancel'); resultsArea.classList.remove('visible'); }
            });

            // --- CTA Buttons & Links Click Tracking ---
            heroCtaButton.addEventListener('click', () => trackEvent('engagement', 'hero_cta_button_click', 'outbound_link'));
            mainCtaButton.addEventListener('click', () => trackEvent('engagement', 'main_cta_button_click', 'outbound_link'));
            linkedinLink.addEventListener('click', () => trackEvent('outbound', 'linkedin_link_click'));
            githubLink.addEventListener('click', () => trackEvent('outbound', 'github_link_click'));

             // --- NEW: Scroll Indicator Logic ---
             let indicatorVisible = false;
             let indicatorHidden = false;

             // Function to show the indicator after a delay
             const showIndicator = () => {
                 if (scrollIndicator && !indicatorVisible) {
                     scrollIndicator.classList.add('visible');
                     indicatorVisible = true;
                     // Track appearance
                     trackEvent('ux_interaction', 'scroll_indicator_shown');
                 }
             };

             // Function to hide indicator based on scroll position
             const handleScrollIndicator = () => {
                 if (scrollIndicator && indicatorVisible && !indicatorHidden) {
                     // Hide when user scrolls down a bit (e.g., 150px) OR when video section is somewhat visible
                     const loomTop = loomSection ? loomSection.getBoundingClientRect().top : window.innerHeight;
                     const scrollThreshold = 150; // Pixels scrolled down
                     const visibilityThreshold = window.innerHeight * 0.8; // When top of loom section is 80% up the viewport

                     if (window.scrollY > scrollThreshold || loomTop < visibilityThreshold) {
                         scrollIndicator.classList.add('hidden');
                         indicatorHidden = true;
                         // Track hiding (optional)
                         // trackEvent('ux_interaction', 'scroll_indicator_hidden');
                     }
                 }
                 // Optional: Show again if scrolled back to top? For now, let's keep it hidden once scrolled.
             };

             // Show indicator after a short delay (allows hero content to load/be seen)
             setTimeout(showIndicator, 1800); // 1.8 second delay

             // Add scroll listener to hide indicator
             window.addEventListener('scroll', handleScrollIndicator, { passive: true }); // Use passive listener for performance

             // Also track clicks on the indicator itself
             if (scrollIndicator) {
                 scrollIndicator.addEventListener('click', () => {
                     trackEvent('engagement', 'scroll_indicator_click', 'scroll_link');
                     // Optional: Hide immediately on click
                     // scrollIndicator.classList.add('hidden');
                     // indicatorHidden = true;
                 });
             }


            // --- Scroll Reveal Animations using Intersection Observer ---
            const revealElements = document.querySelectorAll('.reveal');
            const revealObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        let delay = 0; const target = entry.target;
                        if (target.classList.contains('demo-card') || target.classList.contains('step') || target.classList.contains('feature-item')) {
                            const parent = target.parentNode; const siblings = Array.from(parent.children).filter(el => el.classList.contains(target.classList[0])); const index = siblings.indexOf(target);
                            if (target.classList.contains('demo-card')) { delay = index * 150; }
                            else if (target.classList.contains('step')) { delay = index * 100; }
                            else if (target.classList.contains('feature-item')) { const itemsPerRow = window.innerWidth < 768 ? 1 : (window.innerWidth < 992 ? 2 : 3); delay = (index % itemsPerRow) * 100 + Math.floor(index / itemsPerRow) * 50; }
                        }
                        target.style.transitionDelay = `${delay}ms`; target.classList.add('active');
                        // observer.unobserve(target); // Optional: Keep observing for potential re-reveal if desired
                    }
                     // Optional: Reset on scroll out (uncomment if needed)
                     // else {
                     //     // Only reset if it was previously active to avoid initial flicker
                     //     if (entry.target.classList.contains('active')) {
                     //        entry.target.classList.remove('active');
                     //        entry.target.style.transitionDelay = '0ms';
                     //     }
                     // }
                });
            }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });
            revealElements.forEach(el => { revealObserver.observe(el); });

        });
    </script>

</body>
</html>